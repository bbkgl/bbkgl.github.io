---
layout:     post
typora-root-url: ..
title:      二进制中1的个数
subtitle:   你快乐吗？
date:       2019-09-26
author:     bbkgl
header-img: img/post-bg-map.jpg
catalog: true
tags:
    - 剑指offer
---

# 二进制中1的个数

C++，其实考点中已经说了是位运算了，所以应该首先考虑利用位运算。

**按位与(&)运算符**

顾名思义，就是对操作数的二进制进行与运算，比如2&1,结果就是0，因为二进制计算10&01就是00嘛。

**n&n-1做了什么**

我们举个例子，假设n = 10，n的二进制为1010，n - 1即9，二进制为1001，此时我们再用1010&1001，结果就是1000，然后就发现相比原先的n = 1010，右起第一个1已经没了。

分析一下：n - 1的二进制值一定会把原二进制值右起的第一个1变成0，而这个1右边的所有0都会变成1，再进行按位与运算的话，就会把n二进制中右起第一个1去掉，同时也会把n-1二进制刚刚增加的1也变成0，所以相对n来说，n&n-1就会少了右起第一个1。

所以如果我们如果进行如下运算：

```cpp
while (n) {
    n = n & n - 1;
}
```

每一次循环，都会消掉最右边的1，直到所有1都消去，所以只要再弄个变量计数，就能统计n二进制中1的个数。

代码如下：

```cpp
class Solution {
public:
     int  NumberOf1(int n) {
         int cnt = 0;
         while (n) {
             cnt++;
             n = n & (n-1);
         }
         return cnt;
     }
};
```







