---
layout:     post
title:      990. Satisfiability of Equality Equations
subtitle:   990. 等式方程的可满足性
date:       2020-06-23
author:     bbkgl
header-img: img/post-bg-00014.jpg
catalog: true
tags:
    - leetcode
    - 图
---

其实就是图中计算两点是否连通。。。

```cpp
class Solution {
private:
    bool dfs(char s, const char &d, vector<vector<int>> &&g, vector<bool> &vis) {
        for (char next = 'a'; next <= 'z'; next++) {
            if (g[s][next]) {
                if (next == d)
                    return true;
                if (!vis[next]) {
                    vis[next] = true;
                    if (dfs(next, d, std::move(g), vis))
                        return true;
                    vis[next] = false;
                }
            }
        }
        return false;
    }
public:
    bool equationsPossible(vector<string>& equations) {
        vector<pair<char, char>> not_equals;
        vector<vector<int>> g(128, vector<int>(128));
        for (char it = 'a'; it <= 'z'; it++)
            g[it][it] = true;
        for (const string &it : equations) {
            if (it[1] == '=') {
                g[it[0]][it[3]] = true;
                g[it[3]][it[0]] = true;
            } else {
                not_equals.emplace_back(it[0], it[3]);
            }
        }
        vector<bool> vis(128);
        for (const auto it : not_equals) {
            char a = it.first, b = it.second;
            vis[a] = true;
            if (dfs(a, b, std::move(g), vis))
                return false;
            vis[a] = false;

        }
        return true;
    }
};
```

